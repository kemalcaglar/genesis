var data = [
  {
    name: "Vatka Detay Yırtmaçlı Elbise",
    imgFirst: "/Uploads/UrunResimleri/thumb/kategorisizvatka-detay-yirtmacli-elbis-ce4c86.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/kategorisizvatka-detay-yirtmacli-elbis-7c1-4e.jpg",
    href: "/vatka-detay-yirtmacli-elbise",
    discountPrice: "₺160,00",
    regularPrice: 0,
  },
  {
    name: "Kapüşonlu Şişme Mont",
    imgFirst: "/Uploads/UrunResimleri/thumb/montkapusonlu-sisme-mont-17-28f.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/montkapusonlu-sisme-mont--90f0-.jpg",
    href: "/kapusonlu-sisme-mont",
    discountPrice: "₺200,00",
    regularPrice: 0,
  },
  {
    name: "Kare Yaka Desenli Hırka",
    imgFirst: "/Uploads/UrunResimleri/thumb/hirkakare-yaka-desenli-hirka-041ff7.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/hirkakare-yaka-desenli-hirka-9d9e22.jpg",
    href: "/kare-yaka-desenli-hirka",
    discountPrice: "₺80,00",
    regularPrice: 0,
  },
  {
    name: "Biker Ceket",
    imgFirst: "/Uploads/UrunResimleri/thumb/ceketbiker-ceket-f-519c.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/ceketbiker-ceket-0a3-bd.jpg",
    href: "/biker-ceket",
    discountPrice: "₺150,00",
    regularPrice: 0,
  },
  {
    name: "Kemer Aksesuarlı Palazzo Pantolon",
    imgFirst: "/Uploads/UrunResimleri/thumb/kategorisizkemer-aksesurali-palazzo-pa-4f18e4.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/kategorisizkemer-aksesurali-palazzo-pa-3b-871.jpg",
    href: "/kemer-aksesuarli-palazzo-pantolon1",
    discountPrice: "₺150,00",
    regularPrice: 0,
  },
  {
    name: "Arka Gipe Şifon Elbise",
    imgFirst: "/Uploads/UrunResimleri/thumb/elbiselerarka-gipe-sifon-elbise-114-d8.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/elbiselerarka-gipe-sifon-elbise-214-60.jpg",
    href: "/arka-gipe-sifon-elbise",
    discountPrice: "₺145,00",
    regularPrice: 0,
  },
  {
    name: "İnci Detaylı Tüvit Gömlek",
    imgFirst: "/Uploads/UrunResimleri/thumb/kategorisizinci-detayli-tuvit-gomlek--9dac0.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/kategorisizinci-detayli-tuvit-gomlek-b41864.jpg",
    href: "/inci-detayli-tuvit-gomlek",
    discountPrice: "₺200,00",
    regularPrice: 0,
  },
  {
    name: "Büzgülü Balon Kol Mini Elbise",
    imgFirst: "/Uploads/UrunResimleri/thumb/elbiselerbuzgulu-balon-kol-mini-elbise-39e-b2.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/elbiselerbuzgulu-balon-kol-mini-elbise-dd07-7.jpg",
    href: "/buzgulu-balon-kol-mini-elbise",
    discountPrice: "₺130,00",
    regularPrice: 0,
  },
  {
    name: "Büzgü Detaylı Şifon Elbise",
    imgFirst: "/Uploads/UrunResimleri/thumb/kategorisizbuzgu-detayli-sifon-elbise-f-8048.jpeg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/kategorisizbuzgu-detayli-sifon-elbise-71cfad.jpeg",
    href: "/buzgu-detayli-sifon-elbise1",
    discountPrice: "₺210,00",
    regularPrice: 0,
  },
  {
    name: "Valentine Elbise",
    imgFirst: "/Uploads/UrunResimleri/thumb/elbiselervalentine-elbise-fe08b0.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/elbiselervalentine-elbise-8181ef.jpg",
    href: "/valentine-elbise",
    discountPrice: "₺120,00",
    regularPrice: 0,
  },
  {
    name: "Unisex Eşofman Takım",
    imgFirst: "/Uploads/UrunResimleri/thumb/takimlarunisex-esortman-takim-edb9e5.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/takimlarunisex-esortman-takim-e788ce.jpg",
    href: "/unisex-esofman-takim",
    discountPrice: "₺176,00",
    regularPrice: 0,
  },
  {
    name: "Yırtmaçlı Timsah Desenli Deri Pantolon",
    imgFirst: "/Uploads/UrunResimleri/thumb/kategorisizyirtmacli-timsah-desenli-de-e6c-25.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/kategorisizyirtmacli-timsah-desenli-de-5a7-a8.jpg",
    href: "/yirtmacli-timsah-desenli-deri-pantolon",
    discountPrice: "₺200,00",
    regularPrice: 0,
  },
  {
    name: "Geniş Manşetli Astarlı Polar Ceket",
    imgFirst: "/Uploads/UrunResimleri/thumb/ceketgenis-mansetli-astarli-polar-ceke-b169bf.jpg ",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/ceketgenis-mansetli-astarli-polar-ceke-462b-4.jpg",
    href: "/genis-mansetli-astarli-polar-ceket",
    discountPrice: "₺210,00",
    regularPrice: 0,
  },
  {
    name: "Pileli Yüksek Bel Kumaş Pantolon",
    imgFirst: "/Uploads/UrunResimleri/thumb/pantolonpileli-yuksek-bel-kumas-pantol-8-addb.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/pantolonpileli-yuksek-bel-kumas-pantol-d2-876.jpg",
    href: "/pileli-yuksek-bel-kumas-pantolon",
    discountPrice: "₺90,00",
    regularPrice: 0,
  },
  {
    name: "Volanlı Çiçek Desenli Elbise",
    imgFirst: "/Uploads/UrunResimleri/thumb/kategorisizvolanli-cicek-desenli-elbis-70f12-.jpg",
    imgSecond:
      "/Uploads/UrunResimleri/thumb/kategorisizvolanli-cicek-desenli-elbis-7193-4.jpg",
    href: "/volanli-cicek-desenli-elbise",
    discountPrice: "₺170,00",
    regularPrice: 0,
  },
];
var suggestion = [
  {
    name: "jean",
    href: "https://www.mylovebutik.com/Arama?1&kelime=jean",
  },
  {
    name: "elbise",
    href: "https://www.mylovebutik.com/Arama?1&kelime=elbise",
  },
  {
    name: "ceket",
    href: "https://www.mylovebutik.com/Arama?1&kelime=ceket",
  },
  {
    name: "mont",
    href: "https://www.mylovebutik.com/Arama?1&kelime=mont",
  },
  {
    name: "hırka",
    href: "https://www.mylovebutik.com/Arama?1&kelime=h%C4%B1rka",
  },
  {
    name: "gömlek",
    href: "https://www.mylovebutik.com/Arama?1&kelime=g%C3%B6mlek",
  },
];
var scenarioId = 29,
  variationId = 1;
var scenarioClass = ".scenario-" + scenarioId + "-" + variationId;
var backButtonImg =
  "https://cdn.hellosmpl.com/uploads/2021/01/17/rgo1f0f525al799e0jourouarg.png";
var searchButtonImg =
  "https://cdn.hellosmpl.com/uploads/2021/01/17/fo1cvpmi7at5udr1iukuse5o7e.png";
var mainHtml =
  `<div class="scenario-` + scenarioId + `-` + variationId +
  `">
<div class="container">
<div id="logo">
<a class="logo" href="/">
<img alt="mylovebutik" src="/Uploads/EditorUploads/qwe1eqwe1eqweq.png">
</a> 
<a class="logob logo" href="/">
<img alt="mylovebutik" src="/Uploads/EditorUploads/qwe1eqwe1eqweq.png">
</a>
</div>
<div class="backPage">
<a href="javascript:void(0)">
<img src="` +
  backButtonImg +
  `" alt="geri" />
<span>Geri</span></a
>
</div>
<div class="content">
<div class="section searchArea">
<h2 class="title">Ne Arıyorsunuz ?</h2>
<div id="searchContent">
<form>
<label for="search">
<input type="text" name="search" id="search" />
<button type="button" id="searchButton">
<a href="javascript:void(0)">
<img src="` +
  searchButtonImg +
  `" alt="geri"
/></a>
</button>
</label>
</form>
<div class="searchResult d-none"></div>
</div>
<div class="suggestion">
<h5 class="title">
Tüm zamanlarda sitemizde en çok aranan kelimeler bunlar
</h5>
<ul class="suggestionBox">

</ul>
</div>
</div>
<div class="section mostSell">
<h2 class="title">Aralık - Ocak ayı çok satanlar</h2>
<ul class="mostSellContent">

</ul>
</div>
</div>
</div>
</div>`;

jQuery("input#txtbxArama").focus(function () {
  jQuery("#divTopProductSearch").css("visibility", "hidden");
  jQuery(".logoArea .rightDiv").css("visibility", "hidden");
  //var headerHeight = jQuery("#header").height();
  var windowHeight = window.innerHeight;
  //var containerHeight = windowHeight - headerHeight;
  if (jQuery(scenarioClass).length > 0) {
    jQuery(scenarioClass).remove();
  }
  jQuery("#header").before(mainHtml);
  setLevel(LEVEL_JOIN, "shown-searchModal");
  jQuery(scenarioClass + " .container").animate({ height: windowHeight }, 1000);
  jQuery("body").css("overflow", "hidden");
  jQuery(data).each(function (index, item) {
    var productHtml =
      `<li class="product">
<div class="productImage">
<a href="` +
      item.href +
      `" title="` +
      item.name +
      `">
<img src="` +
      item.imgFirst +
      `" alt="` +
      item.name +
      `">
</a>
</div>
<div class="productDetail">
<div class="priceList">
<span class="price">` +
      item.discountPrice +
      `</span>
</div>
<div class="productName">
<p>` +
      item.name +
      `</p>
</div>
</div>
</li>`;

    jQuery(scenarioClass + " ul.mostSellContent").append(productHtml);
  });
  jQuery(suggestion).each(function (index, item) {
    var suggestionHtml =
      '<li>\
<a href="' + item.href + '">' + item.name + "</a>\
</li>";

    jQuery(scenarioClass + " ul.suggestionBox").append(suggestionHtml);
  });

  /* input alanına kelime yazılıp enter veya click olması 
           durumunda sitedeki input alanında bulunan onkeypress veya arama 
           iconunda bulunun onclick attribute u triggerlanmalı*/

  jQuery(scenarioClass + " #searchButton").click(function () {
    var ourInputVal = jQuery(scenarioClass + " #search").val();
    jQuery("input#txtbxArama").val(ourInputVal);
    setLevel(LEVEL_JOIN, "click-searchButton");
    jQuery("#btnKelimeAra").trigger("onclick");
  });
  jQuery(scenarioClass + " .suggestionBox li").click(function () {
    setLevel(LEVEL_JOIN, "click-suggestionBoxItem");
    
  });
  jQuery(scenarioClass + " .mostSellContent .product .productImage").click(function () {
    setLevel(LEVEL_JOIN, "click-mostSellItem");
    
  });
  var pressIndex= 0;
  jQuery(scenarioClass + " #search").keypress(function (event) {
    if (event.type != "keyup" || event.keycode == 8) {
      var ourInputVal = jQuery(scenarioClass + " #search").val();
      jQuery("input#txtbxArama").val(ourInputVal);
      pressIndex++;
      if(pressIndex<=1){                  
        setLevel(LEVEL_JOIN, "keypress-searchInput");
      }
      if (event.keycode == 13 || event.which == 13) {
        setLevel(LEVEL_JOIN, "search-searchInput");
      }
      return ProductSeachTopOnKeyPress(event);
    }
  });
  jQuery(scenarioClass + " .backPage").click(function () {
    jQuery("#divTopProductSearch").css("visibility", "initial");
    jQuery(".logoArea .rightDiv").css("visibility", "initial");
    jQuery(scenarioClass + " .container").animate({ height: 0 }, 1000);
    setTimeout(() => {
      setLevel(LEVEL_EXIT, "click-Close");
      jQuery(scenarioClass).remove();
      jQuery("body").css("overflow", "initial");
    }, 1010);
  });
});
(function () {
    if (EightDigits.sf.prototype.hasOwnProperty("Corona_Tedbirli_Badge_New_Product")) {
      return false
    }
    EightDigits.sf.prototype.Corona_Tedbirli_Badge_New_Product = function () {
  
      var config = {
        scenarioname: "Corona_Tedbirli_Badge_New_Product",
        analytics: "Corona_Tedbirli_Badge_New_Product",
        controlgroup: 10
      };
  
  
  
      var hotelList = [
        3213,
        3218,
        3227,
        1062,
        3240,
        2988,
        3222,
        1195,
        604,
        565,
        674,
        566,
        1388,
        564,
        1547,
        3293,
        1331,
        1826,
        1406,
        1530,
        1529,
        1150,
        857,
        892,
        1356,
        2159,
        3081,
        683,
        1357,
        2028,
        3264,
        3109,
        1045,
        1142,
        1531,
        872,
        3276,
        884,
        1007,
        1272,
        2085,
        1146,
        2980,
        1835,
        1100,
        3105,
        839,
        841,
        632,
        633,
        634,
        807,
        1000,
        840,
        1134,
        1059,
        1135,
        3141,
        698,
        697,
        699,
        770,
        883,
        882,
        1186,
        1032,
        1282,
        1197,
        1117,
        1304,
        1163,
        1149,
        1188,
        1292,
        1773,
        3153,
        1772,
        859,
        562,
        1224,
        3048,
        1537,
        867,
        1051,
        1470,
        3231,
        1254,
        701,
        2938,
        1398,
        1256,
        1382,
        654,
        652,
        655,
        1544,
        1542,
        1540,
        1545,
        1965,
        1761,
        1543,
        1541,
        1817,
        1068,
        922,
        828,
        3215,
        2939,
        2965,
        1211,
        572,
        706,
        577,
        2299,
        715,
        1358,
        1448,
        2470,
        3352,
        554,
        3365,
        2931,
        1464,
        2292,
        1951,
        1255,
        1755,
        553,
        1614,
        1418,
        809,
        2048,
        2001,
        1130,
        1873,
        3212,
        2750,
        1245,
        576,
        879,
        3164,
        1053,
        870,
        1121,
        687,
        686,
        1751,
        2350,
        1009,
        1133,
        907,
        906,
        1179,
        1343,
        2698,
        1458,
        1734,
        1252,
        1573,
        1265,
        738,
        1168,
        1729,
        3273,
        1148,
        3085,
        1717,
        3316,
        2990,
        2991,
        2992,
        3036,
        1836,
        610,
        1712,
        1701,
        1239,
        1384,
        1692,
        1216,
        1552,
        1704,
        1703,
        1129,
        2765,
        1412,
        1043,
        1422,
        1711,
        1262,
        3250,
        1454,
        1455,
        3277,
        1962,
        3353,
        1332,
        556,
        1590,
        1592,
        1690,
        1591,
        2972,
        2205,
        1909,
        1276,
        3385,
        1831,
        3367,
        3158,
        3398,
        3253,
        3258,
        3249,
        2696,
        2695,
        1776,
        1775,
        3111,
        2461,
        3364,
        3292,
        3389,
        3372,
        3057,
        2087,
        1080,
        903,
        3341,
        869,
        3043,
        3375,
        3394,
        3326,
        1673,
        1571,
        1595,
        3373,
        3357,
        2407,
        2455,
        3306,
        3337,
        3204,
        2182,
        3358,
        2125,
        3278,
        1917,
        1393,
        1394,
        1402,
        2051,
        2137,
        3272,
        1283,
        1832,
        3361,
        2173,
        916,
        597,
        1049,
        561,
        2836,
        1727,
        1047,
        1728,
        1469,
        1109,
        602,
        1667,
        1313,
        1732,
        1733,
        1452,
        1536,
        1231,
        919,
        1743,
        1520,
        924,
        1192,
        2838,
        704,
        1054,
        596,
        1479,
        2883,
        1750,
        1314,
        1463,
        2841,
        1340,
        2863,
        3211,
        3456,
        583,
        1095,
        1985,
        1423,
        3268,
        1857,
        781,
        3474,
        2920,
        1112,
        2962,
        1608,
        1346,
        3392,
        3467,
        3471,
        3400,
        2921,
        3479,
        1475,
        1048,
        1636,
        998,
        1055,
        1742,
        1474,
        3232,
        823,
        824,
        580,
        579,
        3448,
        3315,
        1518,
        2914,
        1075,
        1472,
        3486,
        1162,
        836,
        3241,
        3459,
        1058,
        3554,
        3446,
        3453,
        833,
        1242,
        3454,
        3386,
        3286,
        1342,
        872,
        3223,
        3457,
        1770,
        793,
        3240,
        2298,
        3357,
        3358,
        1584,
        3538,
        3560,
        3269,
        2148,
        1616,
        2958,
        3384,
        2927,
        3574,
        2928,
        2123,
        830,
        3480,
        2934,
        3381,
        3561,
        3137,
        1598,
        3488,
        3450,
        3582,
        1285,
        3475,
        1874,
        1319,
        1318,
        3229,
        1814,
        1984 ,
        1929,
        3524,
        3048,
        3161,
        3044,
        1818,
        3217,
       1572,
       3557
  
  
  
      ]
      var main = {
        "factory": function () {
          return true;
        }
      };
  
      main.factory.prototype = {
        random: function () {
          var randomVal = 0;
          var randomControlRatio = config.controlgroup > 50 ? config.controlgroup : 100 - config.controlgroup;
          if (EightDigits.utils.getCookie('_ed_' + config.scenarioname) == null) {
            randomVal = Math.floor((Math.random() * 10000) + 1);
            EightDigits.utils.setCookie('_ed_' + config.scenarioname, randomVal);
          } else {
            randomVal = parseInt(EightDigits.utils.getCookie('_ed_' + config.scenarioname));
          }
          console.log(randomVal <= 100 * randomControlRatio)
          if (randomVal <= 100 * randomControlRatio) {
  
            return true;
          } else {
            return false;
          }
        },
        start: function () {
  
          var hotel = hotelList.find(x=>x===Number(dataLayer[0].HotelID));
          if(window.innerWidth>1023){
            if(typeof hotel!=="undefined"){
              var html = "<div style='position:absolute;z-index:9;bottom:0;left:0'><img style='width:170px;' src='https://cdn.8digits.com/log/r/f0cfae00-bc22-4023-b2cb-f840eb613e02.png'></div>"
              jQuery('.row.main .left').append(html);
              jQuery('.btn-buy').click(function(){
                EightDigits.analytics.sendEvent(config.analytics, "Click_Desktop");
  
              })
              if (EightDigits.utils.getCookie('ed-sccontrol' + config.scenarioname) === null) {
                EightDigits.analytics.sendEvent(config.analytics, "Shown_Desktop");
                EightDigits.utils.setCookie('ed-sccontrol' + config.scenarioname, 'on');
              }
            }
          }
          else{
            if(typeof hotel!=="undefined"){
              jQuery('.row.main .left').css('position','relative').append('<img class="smpl-covid-badge" style="position: absolute;width: 110px;left: 2px;height: auto;bottom: 10px;border-radius: 7px;"  src="https://cdn.8digits.com/log/r/f0cfae00-bc22-4023-b2cb-f840eb613e02.png"></img>');
              // jQuery('.smpl-covid-badge').css("top",""+jQuery('.flex-viewport').height()-39.19+"px")
              jQuery('.btn-buy').click(function(){
                EightDigits.analytics.sendEvent(config.analytics, "Click_Mobile");
  
              })
              if (EightDigits.utils.getCookie('ed-sccontrol' + config.scenarioname) === null) {
                EightDigits.analytics.sendEvent(config.analytics, "Shown_Mobile");
                EightDigits.utils.setCookie('ed-sccontrol' + config.scenarioname, 'on');
              }
            }
          }
        },
        control: function () {
          if (typeof dataLayer[0].HotelID === "undefined"  ||  dataLayer[0].PageType!=="Productpage" ) {
            return false;
          }
  
        },
        init: function () {
          if (main.factory.prototype.control() == false) {
            return false
          }
          var _exec = main.factory.prototype.random();
          if (!_exec) {
            var hotel = hotelList.find(x=>x===Number(dataLayer[0].HotelID));
  
            if(window.innerWidth>1023){
              if(typeof hotel!=="undefined"){
                jQuery('.btn-buy').each(function(i,product){
                  jQuery(product).attr('data-covid',"true");
                })
  
  
                jQuery('.btn-buy').click(function(){
                  if(jQuery(this).attr('data-covid')==="true"){
                    EightDigits.analytics.sendEvent(config.analytics, "Click_NotShown_Desktop");
  
                  }
                })
                if (EightDigits.utils.getCookie('ed-sccontrol' + config.scenarioname) === null) {
                  EightDigits.analytics.sendEvent(config.analytics, "NotShown_Desktop");
                  EightDigits.utils.setCookie('ed-sccontrol' + config.scenarioname, 'on');
                }
              }
            }
            else{
              if(typeof hotel!=="undefined"){
  
                jQuery('.btn-buy').each(function(i,product){
                  jQuery(product).find("a").attr('data-covid',"true");
                })
  
                jQuery('.btn-buy').click(function(){
                  if(jQuery(this).attr('data-covid')==="true"){
                    EightDigits.analytics.sendEvent(config.analytics, "Click_NotShown_Mobile");
  
                  }
                })
  
  
                if (EightDigits.utils.getCookie('ed-sccontrol' + config.scenarioname) === null) {
                  EightDigits.analytics.sendEvent(config.analytics, "NotShown_Mobile");
                  EightDigits.utils.setCookie('ed-sccontrol' + config.scenarioname, 'on');
                }
              }
            }
  
  
            return false;
          }
          main.factory.prototype.start();
        }
      };
  
      boot = function () {
        return main.factory.prototype.init();
      };
  
      boot();
  
    };
    var _ed_Corona_Tedbirli_Badge_New_Product = new EightDigits.sf();
    _ed_Corona_Tedbirli_Badge_New_Product.Corona_Tedbirli_Badge_New_Product();
  })();
  